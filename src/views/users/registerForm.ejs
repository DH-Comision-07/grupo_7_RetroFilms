<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Registro</title>
        <link rel="stylesheet" href="/css/registerForm.css">
        <%-include('../partials/head') %>

    </head>

    <header class="header">
        <%-include('../partials/header')%>
    </header>
    
    <body>
  
        <form action="/users/register" method="POST" enctype="multipart/form-data">
            
            <label for="name">Tu nombre
                <input 
                    type="text"  
                    name="name" 
                    placeholder="Nombres y Apellidos" 
                    class= "<%= locals.errors && errors.name ? "form-control-is-invalid" : null %>" 
                    value= "<%= locals.oldData ? oldData.name : null %>"
                >
                <% if (locals.errors && errors.name) { %>
                    <div class="textDanger">
                        <%= errors.name.msg  %>
                    </div>
                <% } %>
            </label>

            <label for="username">Nombre de Usuario
                <input 
                    type="text"  
                    name="username" 
                    placeholder="User name"
                    class= "<%= locals.errors && errors.username ? "form-control-is-invalid" : null %>"
                    value= "<%= locals.oldData ? oldData.username : null %>" 
                >
                <% if (locals.errors && errors.userName) { %>
                    <div class="textDanger">
                        <%= errors.userName.msg  %>
                    </div>
                <% } %>
            </label>

            <label for="email">Correo Electronico
                <input 
                    type="email" 
                    name ="email" 
                    placeholder ="ejemplo@gmail.com"
                    class= "<%= locals.errors && errors.email ? "form-control-is-invalid" : null %>" 
                    value= "<%= locals.oldData ? oldData.email : null %>"
                >
                <% if (locals.errors && errors.email) { %>
                    <div class="textDanger">
                        <%= errors.email.msg  %>
                    </div>
                <% } %>
            </label>

            <label for="profile_pic">Foto de perfil
                <input 
                    type="file" 
                    name ="profile_pic" 
                    accept="image/jpeg, image/png, image/jpg, image/webp"
                    class="<%= locals.errors && errors.email ? "form-control-is-invalid" : "input" %>">

                    <% if (locals.errors && errors.profile_pic) { %>
                        <div class="textDanger">
                            <%= errors.profile_pic.msg  %>
                        </div>
                    <% } %>
            </label>

            <label for ="password">Contraseña
                <input 
                    type ="password" 
                    name = "password" 
                    placeholder = "xxxx"
                    class= "<%= locals.errors && errors.password ? "form-control-is-invalid" : null %>" 
                >
                <% if (locals.errors && errors.password) { %>
                    <div class="textDanger">
                        <%= errors.password.msg  %>
                    </div>
                <% } %>
            </label>
            
            <label for = "reEnterPassword">Repite la contraseña
                <input 
                    type = "password" 
                    name = "reEnterPassword" 
                    placeholder= "xxxx"
                    class= "<%= locals.errors && errors.reEnterPassword ? "form-control-is-invalid" : null %>" 
                >
                <% if (locals.errors && errors.reEnterPassword) { %>
                    <div class="textDanger">
                        <%= errors.reEnterPassword.msg  %>
                    </div>
                <% } %>
            </label>
            <label for="Categories_id">Categoria:</label>
            <select name="Categories_id" id="Categories_id">
                <option value="1">Gold</option>
                <option value="2">Platinum</option>
                <option value="3">Invitado</option>
            </select>

            <label for="checkbox">
                <input 
                    type=checkbox 
                    name = "checkbox"
                    class= "<%= locals.errors && errors.checkbox ? "form-control-is-invalid" : null %>"
                    <% if (locals.oldData && locals.oldData.checkbox) { %>
                        checked
                    <% } %>
                > <b>Acepta condiciones y restricciones</b>
                <% if (locals.errors && errors.checkbox) { %>
                    <div class="textDangerFinal">
                        <%= errors.checkbox.msg  %>
                    </div>
                <% } %> 
            </label>

            <br>

            <label for="submitButton">
                <button type=submit name="submitButton"> Continuar </button>
            </label>

            <p class="login">¿Ya tienes cuenta? <a href="/users/login">Log in </a> </p>
             
        </form>

    </body>

    <footer>
        <%-include('../partials/footer') %>
    </footer>
</html>